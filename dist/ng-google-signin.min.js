/*! ng-google-signin - v0.1.0 2017-02-27 */
angular.module("google-signin",[]).provider("GoogleSignin",[function(){var a={};this.setClientId=function(b){return a.client_id=b,this},this.getClientId=function(){return a.client_id},this.setCookiePolicy=function(b){return a.cookie_policiy=b,this},this.getCookiePolicy=function(){return a.cookie_policiy},this.setFetchBasicProfile=function(b){return a.fetch_basic_profile=b,this},this.getFetchBasicProfile=function(){return a.fetch_basic_profile},this.setHostedDomain=function(b){return a.hosted_domain=b,this},this.getHostedDomain=function(){return a.hosted_domain},this.setOpenIDRealm=function(b){return a.openid_realm=b,this},this.getOpenIDRealm=function(){return a.openid_realm},a.scopes=["profile","email"],this.setScopes=function(b){return a.scopes=b,this},this.getScopes=function(){return a.scopes},this.init=function(b){angular.extend(a,b)},this.$get=["$rootScope","$q",function(a,b){function c(){e=gapi.auth2.init(g),e.currentUser.listen(function(b){a.$broadcast("ng-google-signin:currentUser",b),a.$apply()}),e.isSignedIn.listen(function(b){a.$broadcast("ng-google-signin:isSignedIn",b),a.$apply()})}function d(a){var c=b.defer();return a.then(c.resolve,c.reject),c.promise}var e,f=function(){};f.prototype.signIn=function(a){return d(e.signIn(a))},f.prototype.signOut=function(){return d(e.signOut())},f.prototype.grantOfflineAccess=function(a){return d(e.grantOfflineAccess(a))},f.prototype.isSignedIn=function(){return e.isSignedIn.get()},f.prototype.getUser=function(){return e.currentUser.get()},f.prototype.getBasicProfile=function(){var a=this.getUser().getBasicProfile(),b=null;return a&&(b={id:a.getId(),name:a.getName(),image:a.getImageUrl(),email:a.getEmail()}),b},f.prototype.disconnect=function(){e.disconnect()};var g={};g.scopes=["profile","email"];var h=b.defer();return f.prototype.initGoogle=function(a){g.client_id=a,gapi.load("auth2",c)},f.prototype.gApiReady=function(){h.resolve()},f.prototype.isReady=function(){return h.promise},new f}]}]).run(["$window","GoogleSignin",function(a,b){a._startGoogleSignin=b.gApiReady;var c=document.createElement("script");c.type="text/javascript",c.async=!0,c.src="https://apis.google.com/js/client:platform.js?onload=_startGoogleSignin";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)}]);