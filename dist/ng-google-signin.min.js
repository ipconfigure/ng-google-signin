/*! ng-google-signin - v0.1.0 2017-03-23 */
angular.module("google-signin",[]).provider("GoogleSignin",[function(){var a={};this.setClientId=function(b){return a.client_id=b,this},this.getClientId=function(){return a.client_id},this.setCookiePolicy=function(b){return a.cookie_policiy=b,this},this.getCookiePolicy=function(){return a.cookie_policiy},this.setFetchBasicProfile=function(b){return a.fetch_basic_profile=b,this},this.getFetchBasicProfile=function(){return a.fetch_basic_profile},this.setHostedDomain=function(b){return a.hosted_domain=b,this},this.getHostedDomain=function(){return a.hosted_domain},this.setOpenIDRealm=function(b){return a.openid_realm=b,this},this.getOpenIDRealm=function(){return a.openid_realm},a.scopes=["profile","email"],this.setScopes=function(b){return a.scopes=b,this},this.getScopes=function(){return a.scopes},this.init=function(b){angular.extend(a,b)},this.$get=["$window","$rootScope","$q",function(a,b,c){function d(){f=gapi.auth2.init(h),f.currentUser.listen(function(a){b.$broadcast("ng-google-signin:currentUser",a),b.$apply()}),f.isSignedIn.listen(function(a){b.$broadcast("ng-google-signin:isSignedIn",a),b.$apply()})}function e(a){var b=c.defer();return a.then(b.resolve,b.reject),b.promise}var f,g=function(){};g.prototype.signIn=function(a){return e(f.signIn(a))},g.prototype.signOut=function(){return e(f.signOut())},g.prototype.grantOfflineAccess=function(a){return e(f.grantOfflineAccess(a))},g.prototype.isSignedIn=function(){return f.isSignedIn.get()},g.prototype.getUser=function(){return f.currentUser.get()},g.prototype.getBasicProfile=function(){var a=this.getUser().getBasicProfile(),b=null;return a&&(b={id:a.getId(),name:a.getName(),image:a.getImageUrl(),email:a.getEmail()}),b},g.prototype.disconnect=function(){f.disconnect()};var h={};h.scopes=["profile","email"];var i=c.defer();return g.prototype.initGoogle=function(a){h.client_id=a,gapi.load("auth2",d)},g.prototype.gApiReady=function(){i.resolve()},g.prototype.isReady=function(){return i.promise},g.prototype.loadDeps=function(){a._startGoogleSignin=g.prototype.gApiReady;var b=document.createElement("script");b.type="text/javascript",b.async=!0,b.src="https://apis.google.com/js/client:platform.js?onload=_startGoogleSignin";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)},new g}]}]).run([function(){}]);